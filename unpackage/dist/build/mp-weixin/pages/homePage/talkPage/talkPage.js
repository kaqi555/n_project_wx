(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/homePage/talkPage/talkPage"],{"146f":function(t,e,n){"use strict";var a=n("fc11"),u=n.n(a);u.a},"288f3":function(t,e,n){"use strict";var a={talk:function(){return n.e("components/talk/talk").then(n.bind(null,"54b4"))}},u=function(){var t=this,e=t.$createElement;t._self._c},o=[];n.d(e,"b",(function(){return u})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return a}))},"30be":function(t,e,n){"use strict";var a,u=function(){var t=this,e=t.$createElement;t._self._c},o=[];n.d(e,"b",(function(){return u})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return a}))},"68c3":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=u(n("0980"));u(n("c485"));function u(t){return t&&t.__esModule?t:{default:t}}var o=function(){n.e("components/talk/talk").then(function(){return resolve(n("54b4"))}.bind(null,n)).catch(n.oe)},s={components:{talk:o},data:function(){return{isLoad:!1,imgData:[],showLoad:!0,showInput:!1,input_placeholder:"快来说点什么吧",talks:[],temp:[],page:1,params:{token:this.$store.state.user.token,id:this.$store.state.user.userId}}},onUnload:function(){this.max=0,this.data=[],this.loadMoreText="加载更多",this.showLoadMore=!1},onReachBottom:function(){this.showLoad=!0,this.getNewTalks(),this.showLoad=!1},onPullDownRefresh:function(){this.page=1,this.getNewTalks(),setTimeout((function(){t.stopPullDownRefresh()}),1e3)},created:function(){this.getNewTalks()},methods:{getNewTalks:function(){var t=this,e=this.params;function n(t,e){for(var a=[],u=0;u<t.length;u++)0!=t[u].talks.length&&(a=a.concat(n(t[u].talks,e))),null!==t[u].talked_username&&(t[u].username=t[u].username),t[u].talkId=e,a.push(t[u]);return a}e.type="0",a.default.getNewTalks(e,this.page).then((function(e){t.temp=e.data.talks,t.page+=1;for(var a=0;a<t.temp.length;a++){var u=0;t.temp[a].pics&&(t.temp[a].pics=t.temp[a].pics.split(",")),u+=t.temp[a].talks.length;for(var o=0;o<t.temp[a].talks.length;o++)u+=t.temp[a].talks[o].talks.length,n(t.temp[a].talks[o].talks);t.temp[a].talkLength=u,t.temp[a].userId=t.$store.state.user.userId}t.talks.push(t.temp)})).catch((function(t){}))}}};e.default=s}).call(this,n("543d")["default"])},"6aea":function(t,e,n){},7041:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"chat-input",data:function(){return{inputValue:""}},props:{placeholder:{type:String,required:!0},focus:{type:Boolean,required:!0}},methods:{blur:function(){this.$emit("blur")},startRecognize:function(){var t={},e=this;t.engine="iFly",e.inputValue="",plus.speech.startRecognize(t,(function(t){console.log(t),e.inputValue+=t}),(function(t){console.log("语音识别失败："+t.message)}))},sendMessge:function(){if(this.inputValue){var e=this;this.$emit("send-message",{type:"text",content:this.inputValue}),e.inputValue=""}else t.showModal({content:"还没有输入内容哦!",showCancel:!1})}}};e.default=n}).call(this,n("543d")["default"])},7226:function(t,e,n){"use strict";(function(t){n("1828"),n("921b");a(n("66fd"));var e=a(n("be4d"));function a(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("543d")["createPage"])},"746d":function(t,e,n){"use strict";var a=n("6aea"),u=n.n(a);u.a},be4d:function(t,e,n){"use strict";n.r(e);var a=n("288f3"),u=n("e055");for(var o in u)"default"!==o&&function(t){n.d(e,t,(function(){return u[t]}))}(o);n("746d");var s,i=n("f0c5"),r=Object(i["a"])(u["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],s);e["default"]=r.exports},c485:function(t,e,n){"use strict";n.r(e);var a=n("30be"),u=n("e49d");for(var o in u)"default"!==o&&function(t){n.d(e,t,(function(){return u[t]}))}(o);n("146f");var s,i=n("f0c5"),r=Object(i["a"])(u["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],s);e["default"]=r.exports},e055:function(t,e,n){"use strict";n.r(e);var a=n("68c3"),u=n.n(a);for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);e["default"]=u.a},e49d:function(t,e,n){"use strict";n.r(e);var a=n("7041"),u=n.n(a);for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);e["default"]=u.a},fc11:function(t,e,n){}},[["7226","common/runtime","common/vendor"]]]);